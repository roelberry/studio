{
  "entities": {
    "Artist": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Artist",
      "type": "object",
      "description": "Represents an artist or collective featured in the Indiana Arctivist Directory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Artist entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the artist or collective."
        },
        "profileImage": {
          "type": "string",
          "format": "uri",
          "description": "URL to the main image for the artist's card in the gallery, hosted on Firebase Storage."
        },
        "statement": {
          "type": "string",
          "description": "The artist's statement or 'About' section text."
        },
        "gallery": {
          "type": "array",
          "description": "A list of image URLs for the artist's profile gallery, hosted on Firebase Storage.",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "links": {
          "type": "array",
          "description": "A list of links to the artist's website, social media, or portfolio.",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "url": {
                "type": "string",
                "format": "uri"
              }
            },
            "required": ["name", "url"]
          }
        },
        "tags": {
          "type": "array",
          "description": "A list of tags associated with the artist's work (e.g., 'Social Justice', 'Environmental Art').",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "name",
        "profileImage",
        "statement",
        "gallery",
        "links",
        "tags"
      ]
    },
    "User": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "User",
        "type": "object",
        "description": "Represents a user account in the system.",
        "properties": {
          "uid": {
            "type": "string",
            "description": "The unique identifier for the user, provided by Firebase Auth."
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "The user's email address."
          },
          "displayName": {
            "type": "string",
            "description": "The user's display name."
          },
          "role": {
            "type": "string",
            "description": "The user's role, e.g., 'admin' or 'editor'.",
            "enum": ["admin"]
          }
        },
        "required": ["uid", "email"]
      }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/artists/{artistId}",
        "definition": {
          "entityName": "Artist",
          "schema": {
            "$ref": "#/backend/entities/Artist"
          },
          "description": "Stores artist data. No denormalization is required as the data is intended to be publicly accessible, and admin access is managed through the Firebase console.",
          "params": [
            {
              "name": "artistId",
              "description": "Unique identifier for the artist."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores additional user profile information.",
          "params": [
            {
              "name": "userId",
              "description": "The user's UID from Firebase Auth."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to directly reflect the application's data model, focusing on simplicity and ease of querying. The `artists` collection stores all artist data, enabling straightforward retrieval and display for the gallery and profile pages. Since the application has a limited scope (a class project) and doesn't involve complex user roles or collaborative features, authorization independence is maintained implicitly. All data is effectively public (accessible to anyone visiting the site) or restricted to admin users through manual Firebase console management. Therefore, no denormalization is required. The structure supports QAPs by allowing direct listing of artists and retrieval of individual artist profiles without complex filtering or authorization checks at the rule level."
  },
  "storage": {
    "rules": "storage.rules"
  }
}
